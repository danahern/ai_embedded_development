id: k-2026-0216-003
title: Ralph Loop should exit after each user story, not batch
body: |-
  When using the Ralph Loop plugin with a PRD containing multiple user stories, each iteration should:

  1. Read `tasks/prd.json` to find the next `passes: false` story
  2. Implement that ONE story
  3. Update prd.json to mark it `passes: true`
  4. Exit â€” which triggers the loop to restart with fresh context

  Do NOT try to implement all stories in a single iteration. This causes context window exhaustion and compaction, defeating the purpose of the Ralph Loop (which is to restart with fresh context each iteration).

  The loop is designed so each iteration sees previous work in files/git, not in conversation history.
category: pattern
severity: important
applies_to:
  boards: []
  chips: []
  tools: []
  subsystems: []
file_patterns:
- tasks/prd.json
status: unvalidated
validated_by: []
deprecated: false
superseded_by: null
created: 2026-02-16
updated: 2026-02-16
author: claude
source_session: null
tags:
- ralph-loop
- workflow
- context-management
